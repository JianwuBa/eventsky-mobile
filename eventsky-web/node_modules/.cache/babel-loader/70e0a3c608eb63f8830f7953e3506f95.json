{"remainingRequest":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/babel-loader/lib/index.js!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/live/viewLive.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/live/viewLive.vue","mtime":1622798221184},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9odW9kb25neGluZ2tvbmcvRGVza3RvcC9ldmVudHNreS9ldmVudHNreS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRMaXZlVmlld3MgfSBmcm9tICdAL2FwaS9saXZlU2VydmljZS5qcyc7CmltcG9ydCBBZ29yYVJUQyBmcm9tICJhZ29yYS1ydGMtc2RrLW5nIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+a0u+WKqElECiAgICAgIGV2ZW50SWQ6ICcnLAogICAgICAvL+WjsOe9kSDpobnnm65JRAogICAgICBhcHBpZDogIiIsCiAgICAgIC8v55u05pKt5oi/6Ze0CiAgICAgIGNoYW5uZWw6ICIiLAogICAgICAvL3dlYklkCiAgICAgIC8v5oi/6Ze05YaFIOeUqOaIt0lECiAgICAgIHVpZDogMCwKICAgICAgLy/lo7DnvZF0b2tlbgogICAgICB0b2tlbjogIiIsCiAgICAgIC8v6KeS6ImyIO+8iOS4u+aSreWSjOinguS8l++8iQogICAgICByb2xlOiAiYXVkaWVuY2UiLAogICAgICAvL+WjsOe9kSAg55u05pKt5a6i5oi356uvCiAgICAgIGNsaWVudDogbnVsbCwKICAgICAgLy/nm7Tmkq3nirbmgIEKICAgICAgaXNMaXZlOiBudWxsLAogICAgICAvLwogICAgICByZW1vdGVVc2Vyczoge30sCiAgICAgIC8vIOWkmuS6uuingueci3ZpZGVvIOaVsOe7hAogICAgICB2aWRlb0FycjogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsaXZlVmlld3M6IGZ1bmN0aW9uIGxpdmVWaWV3cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TGl2ZVZpZXdzKF90aGlzLmV2ZW50SWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEucnNwQ29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICAgICAgICAgIF90aGlzLmFwcGlkID0gZGF0YS5hcHBJZDsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaGFubmVsID0gZGF0YS53ZWJJZDsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0xpdmUgPSBkYXRhLnN0YXR1czsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5saGlkID0gZGF0YS5oaXN0b3J5SWQ7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMudG9rZW4gPSBkYXRhLnRva2VuOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNMaXZlID09IDMpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBicm93ZXJTdXBwb3J0ID0gQWdvcmFSVEMuY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHMoKTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoYnJvd2VyU3VwcG9ydCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbGllbnQgPSBBZ29yYVJUQy5jcmVhdGVDbGllbnQoewogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6ICJsaXZlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlYzogInZwOCIKICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vc2NyZWVuU2hhcmVDbGllbnQgPSBBZ29yYVJUQy5jcmVhdGVDbGllbnQoeyBtb2RlOiAibGl2ZSIsIGNvZGVjOiAidnA4IiB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAvL3NjcmVlblNoYXJlQ2xpZW50ID0gQWdvcmFSVEMuY3JlYXRlQ2xpZW50KHsgbW9kZTogImxpdmUiLCBjb2RlYzogInZwOCIgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHsvLyAkKCIjbm90aWNlX2NvbnRlbnQiKS5odG1sKCLlvq7kv6Hnm7Tmkq3mmoLkuI3mlK/mjIE8YnIvPiDor7flpI3liLbnm7Tmkq3pk77mjqXvvIzliLDmiYvmnLrmtY/op4jlmajph4zop4LnnIs8YnIvPiBodHRwczovL3lvb3BheS5jbi9saXZlL2F1ZGllbmNlLyR7bGl2ZXJvb20ud2ViSWR9Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCgiI25vdGljZV9kaWFsb2ciKS5tb2RhbCgnc2hvdycpOwogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmpvaW4oKTsKICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2pvaW4gZXJyb3InKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmluYWxseScpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBqb2luOiBmdW5jdGlvbiBqb2luKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgQWdvcmEgY2xpZW50CiAgICAgICAgICAgICAgICBfdGhpczIuY2xpZW50LnNldENsaWVudFJvbGUoX3RoaXMyLnJvbGUpOyAvLyBqb2luIHRoZSBjaGFubmVsCgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2xpZW50LmpvaW4oX3RoaXMyLmFwcGlkLCBfdGhpczIuY2hhbm5lbCwgX3RoaXMyLnRva2VuIHx8IG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpczIudWlkID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYXVkaWVuY2UgdWlkOiIgKyBfdGhpczIudWlkKTsgLy8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvIHBsYXkgcmVtb3RlIHRyYWNrcyB3aGVuIHJlbW90ZSB1c2VyIHB1Ymxpc2hzLgoKICAgICAgICAgICAgICAgIF90aGlzMi5jbGllbnQub24oInVzZXItcHVibGlzaGVkIiwgX3RoaXMyLmhhbmRsZVVzZXJQdWJsaXNoZWQpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5jbGllbnQub24oInVzZXItdW5wdWJsaXNoZWQiLCBfdGhpczIuaGFuZGxlVXNlclVucHVibGlzaGVkKTsgLy/nm7Tmkq3lnLrmma/kuIvvvIzor6Xlm57osIPmj5DnpLrmnInkuLvmkq3liqDlhaXkuobpopHpgZPvvIzlubbov5Tlm57or6XkuLvmkq3nmoQgSUTjgILlpoLmnpzlnKjliqDlhaXkuYvliY3vvIzlt7Lnu4/mnInkuLvmkq3lnKjpopHpgZPkuK3kuobvvIzmlrDliqDlhaXnmoTnlKjmiLfkuZ/kvJrmlLbliLDlt7LmnInkuLvmkq3liqDlhaXpopHpgZPnmoTlm57osIMKCgogICAgICAgICAgICAgICAgX3RoaXMyLmNsaWVudC5vbigidXNlci1qb2luZWQiLCBfdGhpczIuaGFuZGxlVXNlckpvaW5lZCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLmNsaWVudC5vbigidG9rZW4tcHJpdmlsZWdlLWRpZC1leHBpcmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJvblRva2VuUHJpdmlsZWdlV2lsbEV4cGlyZSIpOyAvL+i/m+ihjOmHjeaWsOeUs+ivtyBUb2tlbiDmk43kvZzlkI4KICAgICAgICAgICAgICAgICAgLy9jbGllbnQucmVuZXdUb2tlbih0b2tlbik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIuY2xpZW50Lm9uKCJ0b2tlbi1wcml2aWxlZ2UtZGlkLWV4cGlyZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm9uVG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmUiKTsgLy/ov5vooYzph43mlrDnlLPor7cgVG9rZW4g5pON5L2c5ZCOCiAgICAgICAgICAgICAgICAgIC8vY2xpZW50LnJlbmV3VG9rZW4odG9rZW4pOwogICAgICAgICAgICAgICAgfSk7IC8vaW5pdFN0YXRzKCk7CgoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9IC8v5rS75Yqo5pif56m657uT5p2f55u05pKtCgogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzMy5ldmVudElkID0gX3RoaXMzLiRyb3V0ZS5wYXJhbXMucGF0aE1hdGNoOwoKICAgICAgICAgICAgICBfdGhpczMubGl2ZVZpZXdzKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIGhhbmRsZVVzZXJKb2luZWQ6IGZ1bmN0aW9uIGhhbmRsZVVzZXJKb2luZWQodXNlcikgewogICAgdmFyIGlkID0gdXNlci51aWQ7CiAgICBjb25zb2xlLmxvZygiaGFuZGxlVXNlckpvaW5lZDoiICsgaWQpOwogIH0sCiAgaGFuZGxlVXNlclB1Ymxpc2hlZDogZnVuY3Rpb24gaGFuZGxlVXNlclB1Ymxpc2hlZCh1c2VyLCBtZWRpYVR5cGUpIHsKICAgIGNvbnNvbGUubG9nKCJoYW5kbGVVc2VyUHVibGlzaGVkIik7CiAgICB2YXIgaWQgPSB1c2VyLnVpZDsKICAgIHRoaXMucmVtb3RlVXNlcnNbaWRdID0gdXNlcjsKICAgIHRoaXMuc3Vic2NyaWJlKHVzZXIsIG1lZGlhVHlwZSk7IC8vICQoIiNjb3Zlci1kaXYiKS5oaWRlKCk7CiAgICAvL2NvbnRyb2xzPSJjb250cm9scyIKICAgIC8vJCgiI2xpdmUtc3RhdHVzIikuaHRtbCgiTGl2aW5nLi4uIik7CiAgfSwKICBoYW5kbGVVc2VyVW5wdWJsaXNoZWQ6IGZ1bmN0aW9uIGhhbmRsZVVzZXJVbnB1Ymxpc2hlZCh1c2VyKSB7CiAgICBjb25zb2xlLmxvZygiaGFuZGxlVXNlclVucHVibGlzaGVkIik7CiAgICB2YXIgaWQgPSB1c2VyLnVpZDsKICAgIGRlbGV0ZSB0aGlzLnJlbW90ZVVzZXJzW2lkXTsgLy8gJChgI3BsYXllci13cmFwcGVyLSR7aWR9YCkucmVtb3ZlKCk7CiAgICAvLyAkKCIjY292ZXItZGl2Iikuc2hvdygpOwogICAgLy8kKCIjbGl2ZS1zdGF0dXMiKS5odG1sKCJObyBMaXZlIik7CiAgfSwKICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZSh1c2VyLCBtZWRpYVR5cGUpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgdWlkLCBwbGF5ZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdWlkID0gdXNlci51aWQ7IC8vIHN1YnNjcmliZSB0byBhIHJlbW90ZSB1c2VyCgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmNsaWVudC5zdWJzY3JpYmUodXNlciwgbWVkaWFUeXBlKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb25zb2xlLmxvZygic3Vic2NyaWJlIHN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgaWYgKG1lZGlhVHlwZSA9PT0gJ3ZpZGVvJykgewogICAgICAgICAgICAgICAgcGxheWVyID0gX3RoaXM0LiQoIlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJwbGF5ZXItd3JhcHBlci0iLmNvbmNhdCh1aWQsICJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInBsYXllci0iKS5jb25jYXQodWlkLCAiXCIgY2xhc3M9XCJwbGF5ZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gICIpKTsKCiAgICAgICAgICAgICAgICBfdGhpczQuJCgiI3JlbW90ZS1wbGF5ZXJsaXN0IikuYXBwZW5kKHBsYXllcik7CgogICAgICAgICAgICAgICAgdXNlci52aWRlb1RyYWNrLnBsYXkoInBsYXllci0iLmNvbmNhdCh1aWQpKTsgLy8gJCgiLmFnb3JhX3ZpZGVvX3BsYXllciIpLmF0dHIoImNvbnRyb2xzIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAvLyAkKCIucGxheWVyIikuc2hvdygpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKG1lZGlhVHlwZSA9PT0gJ2F1ZGlvJykgewogICAgICAgICAgICAgICAgdXNlci5hdWRpb1RyYWNrLnBsYXkoKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9LAogIGxlYXZlOiBmdW5jdGlvbiBsZWF2ZSgpIHsKICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIC8vIHJlbW92ZSByZW1vdGUgdXNlcnMgYW5kIHBsYXllciB2aWV3cwogICAgICAgICAgICAgIF90aGlzNS5yZW1vdGVVc2VycyA9IHt9OwoKICAgICAgICAgICAgICBfdGhpczUuJCgiI3JlbW90ZS1wbGF5ZXJsaXN0IikuaHRtbCgiIik7IC8vIGxlYXZlIHRoZSBjaGFubmVsCgoKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5jbGllbnQubGVhdmUoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAvLyQoIiNsb2NhbC1wbGF5ZXItbmFtZSIpLnRleHQoIiIpOwogICAgICAgICAgICAgIC8vJCgiI2J0bi1sb29rIikuYXR0cigiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgICAgICAgICAgLy8kKCIjYnRuLWxlYXZlIikuYXR0cigiZGlzYWJsZWQiLCB0cnVlKTsKICAgICAgICAgICAgICAvL2Rlc3RydWN0U3RhdHMoKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiY2xpZW50IGxlYXZlcyBjaGFubmVsIHN1Y2Nlc3MiKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1KTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["viewLive.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div  class=\"live\">\n        <div id=\"remote-playerlist\">\n        </div>\n    </div>\n</template>\n<script>\nimport {getLiveViews} from '@/api/liveService.js'\nimport AgoraRTC from \"agora-rtc-sdk-ng\"\n    export default {\n        data(){\n            return{\n                //活动ID\n                eventId:'',\n                //声网 项目ID\n                appid: \"\",\n                //直播房间\n                channel: \"\", //webId\n                //房间内 用户ID\n                uid: 0,\n               \n                //声网token\n                token: \"\",\n                //角色 （主播和观众）\n                role: \"audience\",\n                //声网  直播客户端\n                client :null,\n                \n                //直播状态\n                isLive:null,\n                //\n                remoteUsers:{},\n                // 多人观看video 数组\n                videoArr:[],\n            }\n        },\n        methods:{\n            async liveViews(){\n                await getLiveViews(this.eventId).then(res => {\n                    if(res.data.rspCode== 1){\n                        let data = res.data.data\n                        console.log(data)\n                        this.appid = data.appId\n                        this.channel = data.webId\n                        this.isLive = data.status\n                        this.lhid = data.historyId\n                        this.token = data.token\n\n\n                        if(this.isLive == 3) {\n                            var browerSupport =  AgoraRTC.checkSystemRequirements();\n                            if(browerSupport) {\n                                this.client =   AgoraRTC.createClient({ mode: \"live\", codec: \"vp8\" });\n                                //screenShareClient = AgoraRTC.createClient({ mode: \"live\", codec: \"vp8\" });\n                            } else {\n                                // $(\"#notice_content\").html(\"微信直播暂不支持<br/> 请复制直播链接，到手机浏览器里观看<br/> https://yoopay.cn/live/audience/${liveroom.webId}\");\n                                // $(\"#notice_dialog\").modal('show');\n                            // return;\n                            }\n                            try {\n                                this.join();\n                            } catch (error) {\n                                console.error('join error');\n                                console.error(error);\n                            } finally {\n                                console.log('finally')\n                            }\n                        }\n                    }\n                    \n                })\n            },\n            async join() {\n                // create Agora client\n                this.client.setClientRole(this.role);\n\n                // join the channel\n                this.uid = await this.client.join(this.appid, this.channel, this.token || null);\n                console.log(\"audience uid:\" + this.uid);\n                // add event listener to play remote tracks when remote user publishs.\n                this.client.on(\"user-published\", this.handleUserPublished);\n                this.client.on(\"user-unpublished\", this.handleUserUnpublished);\n                //直播场景下，该回调提示有主播加入了频道，并返回该主播的 ID。如果在加入之前，已经有主播在频道中了，新加入的用户也会收到已有主播加入频道的回调\n                this.client.on(\"user-joined\", this.handleUserJoined);\n\n                this.client.on(\"token-privilege-did-expire\", function(){\n                    console.log(\"onTokenPrivilegeWillExpire\");\n                    //进行重新申请 Token 操作后\n                    //client.renewToken(token);\n                });\n                this.client.on(\"token-privilege-did-expire\", function(){\n                    console.log(\"onTokenPrivilegeDidExpire\");\n                    //进行重新申请 Token 操作后\n                    //client.renewToken(token);\n                });\n                //initStats();\n            },\n\n                            \n           \n\n      \n            \n            //活动星空结束直播\n        },\n        async created(){\n            this.eventId = this.$route.params.pathMatch\n            this.liveViews()\n          \n            \n        },\n        handleUserJoined(user) {\n            const id = user.uid;\n                console.log(\"handleUserJoined:\" + id);\n        },\n        handleUserPublished(user, mediaType) {\n            console.log(\"handleUserPublished\");\n            const id = user.uid;\n            this.remoteUsers[id] = user;\n            this.subscribe(user, mediaType);\n            // $(\"#cover-div\").hide();\n            //controls=\"controls\"\n            //$(\"#live-status\").html(\"Living...\");\n        },\n        handleUserUnpublished(user) {\n            console.log(\"handleUserUnpublished\");\n            const id = user.uid;\n            delete this.remoteUsers[id];\n            // $(`#player-wrapper-${id}`).remove();\n            // $(\"#cover-div\").show();\n            //$(\"#live-status\").html(\"No Live\");\n        },\n        async subscribe(user, mediaType) {\n            const uid = user.uid;\n            // subscribe to a remote user\n            await this.client.subscribe(user, mediaType);\n            console.log(\"subscribe success\");\n            if (mediaType === 'video') {\n                const player = this.$(`\n                <div id=\"player-wrapper-${uid}\">\n                    <div id=\"player-${uid}\" class=\"player\"></div>\n                </div>  `);\n                this.$(\"#remote-playerlist\").append(player);\n                user.videoTrack.play(`player-${uid}`);\n                // $(\".agora_video_player\").attr(\"controls\", true);\n                // $(\".player\").show();\n            }\n            if (mediaType === 'audio') {\n                user.audioTrack.play();\n            }\n        },\n        async leave() {\n            // remove remote users and player views\n            this.remoteUsers = {};\n            this.$(\"#remote-playerlist\").html(\"\");\n            // leave the channel\n            await this.client.leave();\n            //$(\"#local-player-name\").text(\"\");\n            //$(\"#btn-look\").attr(\"disabled\", false);\n            //$(\"#btn-leave\").attr(\"disabled\", true);\n            //destructStats();\n            console.log(\"client leaves channel success\");\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    .live{\n        width: 100%;\n        height: 227px;\n    }\n</style>"],"sourceRoot":"src/views/live"}]}