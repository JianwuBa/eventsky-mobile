{"remainingRequest":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/babel-loader/lib/index.js!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/login/login.vue","mtime":1621928106429},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbGFuZ0VuLCBsYW5nWmggfSBmcm9tICdAL2FwaS9sYW5nLmpzJzsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50JzsgLy8gaW1wb3J0IGFwaSBmcm9tICdAL2FwaS9hcGknCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoZWNrYm94OiBmYWxzZSwKICAgICAgY2hlY2tib3hHcm91cDogW10sCiAgICAgIGlzQ2xpY2s6IHRydWUsCiAgICAgIHRpbWU6ICfojrflj5bpqozor4HnoIEnLAogICAgICBwaG9uZTogJycsCiAgICAgIHNtczogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VMYW5nOiBmdW5jdGlvbiBjaGFuZ2VMYW5nKGxhbmcpIHsKICAgICAgaWYgKGxhbmcgPT09ICd6aCcpIHsKICAgICAgICBsYW5nWmgoKTsKICAgICAgfSBlbHNlIGlmIChsYW5nID09PSAnZW4nKSB7CiAgICAgICAgbGFuZ0VuKCk7CiAgICAgIH0KICAgIH0sCiAgICBnYWluQ29kZTogZnVuY3Rpb24gZ2FpbkNvZGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pc0NsaWNrKSB7CiAgICAgICAgaWYgKC9eKDEzWzAtOV18MTRbMDE0NTY4NzldfDE1WzAtMzUtOV18MTZbMjU2N118MTdbMC04XXwxOFswLTldfDE5WzAtMzUtOV0pXGR7OH0kLy50ZXN0KHRoaXMucGhvbmUpKSB7CiAgICAgICAgICB0aGlzLiRodHRwLnBvc3QoIi91c2VyLXNlcnZpY2UvYXV0aC9zZW5kP3RhcmdldD0iICsgdGhpcy5waG9uZSArICImdHlwZT1QSE9ORV9MT0dJTiIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmlzQ2xpY2sgPSBmYWxzZTsKICAgICAgICAgIHZhciBzID0gNjA7CiAgICAgICAgICB0aGlzLnRpbWUgPSBzICsgJ3MnOwogICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBzLS07CiAgICAgICAgICAgIF90aGlzLnRpbWUgPSBzICsgJ3MnOwoKICAgICAgICAgICAgaWYgKHMgPCAwKSB7CiAgICAgICAgICAgICAgX3RoaXMudGltZSA9ICfph43mlrDojrflj5YnOwogICAgICAgICAgICAgIF90aGlzLmlzQ2xpY2sgPSB0cnVlOwogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgVG9hc3QuZmFpbCgn6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+356CBJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3NpZ251cCcpOwogICAgfSwKICAgIHJlZ2lzdGVyQWNjb3VudDogZnVuY3Rpb24gcmVnaXN0ZXJBY2NvdW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAucG9zdCgiL3VzZXItc2VydmljZS9hY2NvdW50L2xvZ2luX3A/cGhvbmU9IiArIHRoaXMucGhvbmUgKyAiJmF1dGhDb2RlPSIgKyB0aGlzLnNtcyArICIiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEucnNwQ29kZSA9PSAxKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL3BheW1lbnQnKTsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAAA,MAAA,EAAA,MAAA,QAAA,eAAA;AACA,SAAA,KAAA,QAAA,MAAA,C,CACA;;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,aAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,IAHA;AAIA,MAAA,IAAA,EAAA,OAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,GAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,IADA,EACA;AACA,UAAA,IAAA,KAAA,IAAA,EAAA;AACA,QAAA,MAAA;AACA,OAFA,MAEA,IAAA,IAAA,KAAA,IAAA,EAAA;AACA,QAAA,MAAA;AACA;AACA,KAPA;AAQA,IAAA,QARA,sBAQA;AAAA;;AACA,UAAA,KAAA,OAAA,EAAA;AAEA,YAAA,+EAAA,IAAA,CAAA,KAAA,KAAA,CAAA,EAAA;AACA,eAAA,KAAA,CAAA,IAAA,CAAA,oCAAA,KAAA,KAAA,GAAA,mBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,WAFA;AAGA,eAAA,OAAA,GAAA,KAAA;AACA,cAAA,CAAA,GAAA,EAAA;AACA,eAAA,IAAA,GAAA,CAAA,GAAA,GAAA;AACA,cAAA,QAAA,GAAA,WAAA,CAAA,YAAA;AACA,YAAA,CAAA;AACA,YAAA,KAAA,CAAA,IAAA,GAAA,CAAA,GAAA,GAAA;;AACA,gBAAA,CAAA,GAAA,CAAA,EAAA;AACA,cAAA,KAAA,CAAA,IAAA,GAAA,MAAA;AACA,cAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,cAAA,aAAA,CAAA,QAAA,CAAA;AACA;AACA,WARA,EAQA,IARA,CAAA;AASA,SAhBA,MAgBA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,YAAA;AACA;AACA;AACA,KA/BA;AAgCA,IAAA,QAhCA,sBAgCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,KAlCA;AAmCA,IAAA,eAnCA,6BAmCA;AAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,yCAAA,KAAA,KAAA,GAAA,YAAA,GAAA,KAAA,GAAA,GAAA,EAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,OAAA,IAAA,CAAA,EAAA;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA,WAFA,EAEA,IAFA,CAAA;AAGA;AACA,OANA;AAOA;AA3CA;AAXA,CAAA","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"top-bg\">\n            <div class=\"lang\">\n                <span @click=\"changeLang('zh')\">中</span>\n                <span>|</span>\n                <span @click=\"changeLang('en')\">EN</span>\n            </div>\n            <img src=\"@/assets/images/logo.png\" class=\"logo\" alt=\"\">\n        </div>\n        <div class=\"content\">\n            <div class=\"card\">\n                <van-field v-model=\"phone\" class=\"phone\" placeholder=\"请输入手机号\" />\n                <van-field v-model=\"sms\" class=\"sms\"  placeholder=\"请输入验证码\" use-button-slot>\n                    <van-button slot=\"button\" class=\"get-codebtn\" size=\"small\" @click=\"gainCode\">{{time}} </van-button>\n                </van-field>\n                <van-button class=\"register-btn\" @click=\"registerAccount\">登录</van-button>\n            </div>\n\n            <p class=\"login\" @click=\"register\">去注册</p>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {langEn,langZh} from '@/api/lang.js'\nimport { Toast } from 'vant';\n// import api from '@/api/api'\n    export default {\n        data(){\n            return{\n                checkbox: false,\n                checkboxGroup: [],\n                isClick: true,\n                time: '获取验证码',\n                phone: '',\n                sms: '',\n            }\n        },\n        methods:{\n            changeLang(lang){\n                if(lang === 'zh'){\n                    langZh()\n                }else if (lang === 'en'){\n                    langEn()\n                }\n            },\n            gainCode() {\n                if (this.isClick) {\n                    \n                    if (/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/.test(this.phone)) {\n                        this.$http.post(\"/user-service/auth/send?target=\"+this.phone+\"&type=PHONE_LOGIN\").then(res =>{\n                            console.log(res)\n                        })\n                        this.isClick = false\n                        let s = 60\n                        this.time = s + 's'\n                        let interval = setInterval(() => {\n                            s--\n                            this.time = s + 's'\n                            if (s < 0) {\n                            this.time = '重新获取'\n                            this.isClick = true\n                            clearInterval(interval)\n                            }\n                        }, 1000)\n                    } else {\n                        Toast.fail('请输入正确的手机号码')\n                    }\n                }\n            },\n            register(){\n                this.$router.push('/signup')\n            },\n            registerAccount(){\n                this.$http.post(\"/user-service/account/login_p?phone=\"+this.phone+\"&authCode=\"+this.sms+\"\").then(res =>{\n                    if(res.data.rspCode == 1){\n                        setTimeout(()=>{\n                            this.$router.push('/payment')\n                        },1000)\n                    }\n                })\n            }\n        } \n    }\n</script>\n\n<style lang=\"less\" scoped>\n    .container{\n        width: 100%;\n        position: relative;\n        .top-bg{\n            width: 100%;\n            position: relative;\n            height: 226px;\n            background-image: url('../../assets/images/top-bg.png');\n            background-size: 100%;\n            .lang{\n                width: 100%;\n                position: absolute;\n                left: 0;\n                top: 0;\n                text-align: right;\n                padding: 0 10px;\n                box-sizing: border-box;\n                color: #fff;\n                font-size: 14px;\n                line-height: 30px;\n                span{\n                    margin: 0 3px;\n                }\n            }\n            .logo{\n                width: 160px;\n                position: absolute;\n                top: 50px;\n                left: 50%;\n                transform: translateX(-50%);\n            }\n        }\n        .content{\n            width: 100%;\n            padding: 0 10px;\n            box-sizing: border-box;\n            position: absolute;\n            left: 0;\n            top: 134px;\n            .card{\n                width: 100%;\n                height: 250px;\n                background: #FFFFFF;\n                box-shadow: 0px 0px 14px 0px rgba(0, 0, 0, 0.1);\n                border-radius: 20px;\n                overflow: hidden;\n                box-sizing: border-box;\n                padding: 40px 12px 30px; \n            }\n            .get-codebtn{\n                border: none;\n                color: #1F6DF0;\n                font-size: 14px;\n                height: 20px;\n                line-height: 20px;\n            }\n            .sms{\n                box-sizing: border-box;\n                border-bottom: 1px solid #ebedf0;\n                padding: 10px 0;\n            }\n            .phone{\n                padding: 10px 0;border-bottom: 1px solid #ebedf0;\n                box-sizing: border-box;\n            }\n            .register-btn{\n                width: 100%;\n                height: 44px;\n                background: linear-gradient(136deg, #5097FD 0%, #2171F9 100%);\n                box-shadow: 0px 2px 30px 0px rgba(145, 135, 254, 0.3);\n                border-radius: 44px;\n                color: #fff;\n                margin-top: 32px;\n                margin-bottom: 10px;\n            }\n            /deep/ .van-checkbox__label{\n                font-size: 12px;\n                color: #000;\n                line-height: 30px;\n            }\n            /deep/ .van-checkbox__icon .van-icon{\n                width: 14px;\n                height: 14px;\n                margin-top: 2px; font-size: 12px;\n                \n            }\n            .login{\n                width: 100%;\n                text-align: center;\n                color: #408AFC;\n                font-size: 16px;\n                margin-top: 40px;\n            }\n        }\n    }\n</style>"],"sourceRoot":"src/views/login"}]}