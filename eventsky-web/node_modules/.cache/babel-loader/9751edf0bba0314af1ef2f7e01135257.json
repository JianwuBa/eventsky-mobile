{"remainingRequest":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/babel-loader/lib/index.js!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/live/Live.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/live/Live.vue","mtime":1622614530507},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9odW9kb25neGluZ2tvbmcvRGVza3RvcC9ldmVudHNreS9ldmVudHNreS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBwb3N0UHJlc3RhcnQgfSBmcm9tICdAL2FwaS9saXZlU2VydmljZS5qcyc7CmltcG9ydCAiLi9hZ29yYS9BZ29yYVJUQ19OLTQuMy4wLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+Wxj+W5lemrmOW6pgogICAgICBjbGllbnRIZWlnaHQ6ICcnLAogICAgICAvL+a0u+WKqElECiAgICAgIGV2ZW50SWQ6ICcnLAogICAgICAvL+WjsOe9keWPguaVsAogICAgICBhcHBpZDogIiIsCiAgICAgIGNoYW5uZWw6ICIiLAogICAgICAvL3dlYklkCiAgICAgIHVpZDogMCwKICAgICAgbGhpZDogMCwKICAgICAgdG9rZW46ICIiLAogICAgICByb2xlOiAiaG9zdCIsCiAgICAgIGNsaWVudDogbnVsbCwKICAgICAgbG9jYWxUcmFja3M6IHsKICAgICAgICB2aWRlb1RyYWNrOiBudWxsLAogICAgICAgIGF1ZGlvVHJhY2s6IG51bGwKICAgICAgfSwKICAgICAgbWljczogW10sCiAgICAgIC8vIGFsbCBtaWNyb3Bob25lcyBkZXZpY2VzIHlvdSBjYW4gdXNlCiAgICAgIGNhbXM6IFtdLAogICAgICAvLyBhbGwgY2FtZXJhcyBkZXZpY2VzIHlvdSBjYW4gdXNlCiAgICAgIGN1cnJlbnRNaWM6IG51bGwsCiAgICAgIC8vIHRoZSBtaWNyb3Bob25lIHlvdSBhcmUgdXNpbmcKICAgICAgY3VycmVudENhbTogbnVsbCwKICAgICAgLy8gdGhlIGNhbWVyYSB5b3UgYXJlIHVzaW5nCiAgICAgIHZpZGVvUHJvZmlsZXM6IFt7CiAgICAgICAgbGFiZWw6ICI0ODBwXzEiLAogICAgICAgIGRldGFpbDogIjY0MMOXNDgwLCAxNWZwcywgNTAwS2JwcyIsCiAgICAgICAgdmFsdWU6ICI0ODBwXzEiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIjQ4MHBfMiIsCiAgICAgICAgZGV0YWlsOiAiNjQww5c0ODAsIDMwZnBzLCAxMDAwS2JwcyIsCiAgICAgICAgdmFsdWU6ICI0ODBwXzIiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIjcyMHBfMSIsCiAgICAgICAgZGV0YWlsOiAiMTI4MMOXNzIwLCAxNWZwcywgMTEzMEticHMiLAogICAgICAgIHZhbHVlOiAiNzIwcF8xIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICI3MjBwXzIiLAogICAgICAgIGRldGFpbDogIjEyODDDlzcyMCwgMzBmcHMsIDIwMDBLYnBzIiwKICAgICAgICB2YWx1ZTogIjcyMHBfMiIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAiMTA4MHBfMSIsCiAgICAgICAgZGV0YWlsOiAiMTkyMMOXMTA4MCwgMTVmcHMsIDIwODBLYnBzIiwKICAgICAgICB2YWx1ZTogIjEwODBwXzEiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIjEwODBwXzIiLAogICAgICAgIGRldGFpbDogIjE5MjDDlzEwODAsIDMwZnBzLCAzMDAwS2JwcyIsCiAgICAgICAgdmFsdWU6ICIxMDgwcF8yIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICIyMDDDlzY0MCIsCiAgICAgICAgZGV0YWlsOiAiMjAww5c2NDAsIDMwZnBzIiwKICAgICAgICB2YWx1ZTogewogICAgICAgICAgd2lkdGg6IDIwMCwKICAgICAgICAgIGhlaWdodDogNjQwLAogICAgICAgICAgZnJhbWVSYXRlOiAzMAogICAgICAgIH0KICAgICAgfSAvLyBjdXN0b20gdmlkZW8gcHJvZmlsZQogICAgICBdLAogICAgICBjdXJWaWRlb1Byb2ZpbGU6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsaXZlUHJlc3RhcnQ6IGZ1bmN0aW9uIGxpdmVQcmVzdGFydCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGVycm9yQ29kZSwgZXJyTXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBvc3RQcmVzdGFydChfdGhpcy5ldmVudElkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5yc3BDb2RlID09IDEpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXBwaWQgPSBkYXRhLmFwcElkOwogICAgICAgICAgICAgICAgICAgIF90aGlzLmNoYW5uZWwgPSBkYXRhLmNoYW5uZWw7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMudWlkID0gZGF0YS51aWQ7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGhpZCA9IGRhdGEuaGlzdG9yeUlkOwogICAgICAgICAgICAgICAgICAgIF90aGlzLnRva2VuID0gZGF0YS50b2tlbjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnN0YXJ0TGl2ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignc3RhcnQgbGl2ZSBmYWlsZWQhJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0LnQwKTsgLy8gbGVhdmVMaXZlKCk7CgogICAgICAgICAgICAgICAgZXJyb3JDb2RlID0gX2NvbnRleHQudDAuY29kZTsKICAgICAgICAgICAgICAgIGVyck1zZyA9ICLlvIDlkK/nm7Tmkq3lpLHotKUsIjsKCiAgICAgICAgICAgICAgICBpZiAoZXJyb3JDb2RlID09PSAnREVWSUNFX05PVF9GT1VORCcpIHsKICAgICAgICAgICAgICAgICAgZXJyTXNnICs9ICLmnKrmib7liLDmkYTlg4/lpLTmiJbpuqblhYvpo47orr7lpIchIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBlcnJNc2cgKz0gIlxu6K+m57uG6ZSZ6K+v5L+h5oGvXG4iICsgX2NvbnRleHQudDA7CiAgICAgICAgICAgICAgICBhbGVydChlcnJNc2cpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgxNSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDYsIDE1LCAxN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3RhcnRMaXZlOiBmdW5jdGlvbiBzdGFydExpdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGxldmVsOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgQWdvcmEgY2xpZW50CiAgICAgICAgICAgICAgICBfdGhpczIuY2xpZW50LnNldENsaWVudFJvbGUoX3RoaXMyLnJvbGUpOyAvLyBqb2luIHRoZSBjaGFubmVsCgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2xpZW50LmpvaW4oX3RoaXMyLmFwcGlkLCBfdGhpczIuY2hhbm5lbCwgX3RoaXMyLnRva2VuIHx8IG51bGwsIF90aGlzMi51aWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpczIudWlkID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gQWdvcmFSVEMuY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2soKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMyLmxvY2FsVHJhY2tzLmF1ZGlvVHJhY2sgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBBZ29yYVJUQy5jcmVhdGVDYW1lcmFWaWRlb1RyYWNrKHsKICAgICAgICAgICAgICAgICAgZW5jb2RlckNvbmZpZzogX3RoaXMyLmN1clZpZGVvUHJvZmlsZS52YWx1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF90aGlzMi5sb2NhbFRyYWNrcy52aWRlb1RyYWNrID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXMyLmxvY2FsVHJhY2tzLmF1ZGlvVHJhY2suc2V0Vm9sdW1lKDIwMCk7CgogICAgICAgICAgICAgICAgbGV2ZWwgPSBfdGhpczIubG9jYWxUcmFja3MuYXVkaW9UcmFjay5nZXRWb2x1bWVMZXZlbCgpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImxvY2FsIHN0cmVhbSBhdWRpbyBsZXZlbCIsIGxldmVsKTsgLy8gcGxheSBsb2NhbCB2aWRlbyB0cmFjawoKICAgICAgICAgICAgICAgIF90aGlzMi5sb2NhbFRyYWNrcy52aWRlb1RyYWNrLnBsYXkoImxvY2FsLXBsYXllciIpOyAvLyQoIiNsb2NhbC1wbGF5ZXItbmFtZSIpLnRleHQoYGxvY2FsVHJhY2soJHtvcHRpb25zLnVpZH0pYCk7CiAgICAgICAgICAgICAgICAvLyBwdWJsaXNoIGxvY2FsIHRyYWNrcyB0byBjaGFubmVsCgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNsaWVudC5wdWJsaXNoKFtfdGhpczIubG9jYWxUcmFja3MuYXVkaW9UcmFjaywgX3RoaXMyLmxvY2FsVHJhY2tzLnZpZGVvVHJhY2tdKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJwdWJsaXNoIHN1Y2Nlc3MiKTsgLy8gY2xpZW50Lm9uKCJ1c2VyLWxlZnQiLCBoYW5kbGVVc2VyTGVmdCk7CiAgICAgICAgICAgICAgICAvLyBjbGllbnQub24oImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlIiwgaGFuZGxlU3RhdGVDaGFuZ2UpOwogICAgICAgICAgICAgICAgLy8gY2xpZW50Lm9uKCJ0b2tlbi1wcml2aWxlZ2Utd2lsbC1leHBpcmUiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZygib25Ub2tlblByaXZpbGVnZVdpbGxFeHBpcmUiKTsKICAgICAgICAgICAgICAgIC8vICAgICAvL+i/m+ihjOmHjeaWsOeUs+ivtyBUb2tlbiDmk43kvZzlkI4KICAgICAgICAgICAgICAgIC8vICAgICAvL2NsaWVudC5yZW5ld1Rva2VuKHRva2VuKTsKICAgICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgICAgLy8gY2xpZW50Lm9uKCJ0b2tlbi1wcml2aWxlZ2UtZGlkLWV4cGlyZSIsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCJvblRva2VuUHJpdmlsZWdlRGlkRXhwaXJlIik7CiAgICAgICAgICAgICAgICAvLyAgICAgJCgiI3ZlcmlmaWNhdGlvbi1kaWFsb2ctMyIpLm1vZGFsKCJzaG93Iik7CiAgICAgICAgICAgICAgICAvLyAgICAgbGVhdmVMaXZlKCk7CiAgICAgICAgICAgICAgICAvLyAgICAgLy/ov5vooYzph43mlrDnlLPor7cgVG9rZW4g5pON5L2c5ZCOCiAgICAgICAgICAgICAgICAvLyAgICAgLy9jbGllbnQucmVuZXdUb2tlbih0b2tlbik7CiAgICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAgIC8vaW5pdFN0YXRzKCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpbml0VmlkZW9Qcm9maWxlczogZnVuY3Rpb24gaW5pdFZpZGVvUHJvZmlsZXMoKSB7CiAgICAgIHRoaXMuY3VyVmlkZW9Qcm9maWxlID0gdGhpcy52aWRlb1Byb2ZpbGVzWzNdOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuY2xpZW50SGVpZ2h0ID0gIiIuY29uY2F0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpOwogICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgIHdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdGhhdC5jbGllbnRIZWlnaHQgPSAiIi5jb25jYXQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCk7CgogICAgICBpZiAodGhhdC4kcmVmcy5saXZlKSB7CiAgICAgICAgdGhhdC4kcmVmcy5saXZlLnN0eWxlLm1pbkhlaWdodCA9IHRoYXQuY2xpZW50SGVpZ2h0ICsgJ3B4JzsKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmV2ZW50SWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucGF0aE1hdGNoOwogICAgdmFyIGJyb3dlclN1cHBvcnQgPSBBZ29yYVJUQy5jaGVja1N5c3RlbVJlcXVpcmVtZW50cygpOwoKICAgIGlmIChicm93ZXJTdXBwb3J0KSB7CiAgICAgIHRoaXMuY2xpZW50ID0gQWdvcmFSVEMuY3JlYXRlQ2xpZW50KHsKICAgICAgICBtb2RlOiAibGl2ZSIsCiAgICAgICAgY29kZWM6ICJoMjY0IgogICAgICB9KTsgLy9zY3JlZW5TaGFyZUNsaWVudCA9IEFnb3JhUlRDLmNyZWF0ZUNsaWVudCh7IG1vZGU6ICJsaXZlIiwgY29kZWM6ICJ2cDgiIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoIlRoZSBCcm93ZXIgaXMgbm90IHN1cHBvcnQgbGl2ZSEiKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRoaXMuaW5pdFZpZGVvUHJvZmlsZXMoKTsKICB9LAogIHdhdGNoOiB7CiAgICBjbGllbnRIZWlnaHQ6IGZ1bmN0aW9uIGNsaWVudEhlaWdodChfY2xpZW50SGVpZ2h0KSB7CiAgICAgIHRoaXMuJHJlZnMubGl2ZS5zdHlsZS5taW5IZWlnaHQgPSBfY2xpZW50SGVpZ2h0ICsgJ3B4JzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Live.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div ref=\"live\" class=\"live\">\n            <el-button @click=\"livePrestart\" type=\"success\">开始直播</el-button>\n            <div id=\"local-player\">\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {postPrestart} from '@/api/liveService.js'\nimport \"./agora/AgoraRTC_N-4.3.0.js\"\n\n    export default {\n        data(){\n            return{\n                //屏幕高度\n                clientHeight:'',\n                //活动ID\n                eventId:'',\n               //声网参数\n                appid: \"\",\n                channel: \"\", //webId\n                uid: 0,\n                lhid: 0,\n                token: \"\",\n                role: \"host\",\n\n\n                client :null,\n\n                localTracks :{\n                    videoTrack: null,\n                    audioTrack: null\n                },\n\n                mics : [], // all microphones devices you can use\n                cams : [], // all cameras devices you can use\n                currentMic:null, // the microphone you are using\n                currentCam:null, // the camera you are using\n\n                videoProfiles : [\n                    { label: \"480p_1\", detail: \"640×480, 15fps, 500Kbps\", value: \"480p_1\" },\n                    { label: \"480p_2\", detail: \"640×480, 30fps, 1000Kbps\", value: \"480p_2\" },\n                    { label: \"720p_1\", detail: \"1280×720, 15fps, 1130Kbps\", value: \"720p_1\" },\n                    { label: \"720p_2\", detail: \"1280×720, 30fps, 2000Kbps\", value: \"720p_2\" },\n                    { label: \"1080p_1\", detail: \"1920×1080, 15fps, 2080Kbps\", value: \"1080p_1\" },\n                    { label: \"1080p_2\", detail: \"1920×1080, 30fps, 3000Kbps\", value: \"1080p_2\" },\n                    { label: \"200×640\", detail: \"200×640, 30fps\", value: { width: 200, height: 640, frameRate: 30 } } // custom video profile\n                ],\n\n                curVideoProfile:null\n            }\n        },\n        methods:{\n            async livePrestart(){\n                postPrestart(this.eventId).then(res => {\n                    console.log(res)\n                    if(res.data.rspCode == 1){\n                        let data = res.data.data\n                        this.appid = data.appId\n                        this.channel = data.channel\n                        this.uid = data.uid\n                        this.lhid = data.historyId\n                        this.token = data.token\n                    }\n                })\n                try {\n                    await this.startLive();\n                    //updateLiveStatus(webId, lhid, \"LIVING\");\n                    //volumeAnimation = requestAnimationFrame(setVolumeWave);\n                } catch (error) {\n                    console.error('start live failed!');\n                    console.error(error);\n                    // leaveLive();\n                    var errorCode = error.code;\n                    var errMsg = \"开启直播失败,\";\n                    if (errorCode === 'DEVICE_NOT_FOUND') {\n                        errMsg += \"未找到摄像头或麦克风设备!\";\n                    }\n                    errMsg += \"\\n详细错误信息\\n\" + error;\n                    alert(errMsg);\n                } finally {\n                    //$(\"#btn-stop-live\").attr(\"disabled\", false);\n                    //$(\"#enable-beauty\").attr(\"disabled\", false);\n                    //$(\"#disable-beauty\").attr(\"disabled\", true);\n                }\n            },\n            async startLive() {\n                // create Agora client\n                this.client.setClientRole(this.role);\n\n                // join the channel\n                this.uid = await this.client.join(this.appid, this.channel, this.token || null, this.uid);\n\n                // create local audio and video tracks\n                this.localTracks.audioTrack = await AgoraRTC.createMicrophoneAudioTrack();\n                this.localTracks.videoTrack = await AgoraRTC.createCameraVideoTrack({ encoderConfig: this.curVideoProfile.value });\n                this.localTracks.audioTrack.setVolume(200);\n                const level = this.localTracks.audioTrack.getVolumeLevel();\n                console.log(\"local stream audio level\", level);\n                // play local video track\n                this.localTracks.videoTrack.play(\"local-player\");\n                \n                //$(\"#local-player-name\").text(`localTrack(${options.uid})`);\n                // publish local tracks to channel\n                await this.client.publish([this.localTracks.audioTrack, this.localTracks.videoTrack]);\n                console.log(\"publish success\");\n                // client.on(\"user-left\", handleUserLeft);\n                // client.on(\"connection-state-change\", handleStateChange);\n                // client.on(\"token-privilege-will-expire\", function() {\n                //     console.log(\"onTokenPrivilegeWillExpire\");\n                //     //进行重新申请 Token 操作后\n                //     //client.renewToken(token);\n                // });\n                // client.on(\"token-privilege-did-expire\", function() {\n                //     console.log(\"onTokenPrivilegeDidExpire\");\n                //     $(\"#verification-dialog-3\").modal(\"show\");\n                //     leaveLive();\n                //     //进行重新申请 Token 操作后\n                //     //client.renewToken(token);\n                // });\n                //initStats();\n            },\n\n            initVideoProfiles() {\n              \n                this.curVideoProfile = this.videoProfiles[3];\n            }\n\n        },\n        mounted(){\n           this.clientHeight = `${document.documentElement.clientHeight}`;\n           let that = this\n           window.onresize = function(){\n                that.clientHeight =  `${document.documentElement.clientHeight}`;\n                if(that.$refs.live){\n                    that.$refs.live.style.minHeight = that.clientHeight + 'px';\n                }\n            }\n        },\n        created(){\n             this.eventId = this.$route.params.pathMatch\n\n                var browerSupport = AgoraRTC.checkSystemRequirements();\n                if (browerSupport) {\n                    this.client = AgoraRTC.createClient({ mode: \"live\", codec: \"h264\" });\n                    //screenShareClient = AgoraRTC.createClient({ mode: \"live\", codec: \"vp8\" });\n                } else {\n                    alert(\"The Brower is not support live!\");\n                    return;\n                }\n                this.initVideoProfiles();\n        },\n        watch:{\n            clientHeight(clientHeight){\n               this.$refs.live.style.minHeight = clientHeight + 'px';\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    .live{\n        padding: 120px 0 150px;\n        box-sizing: border-box;\n        background: skyblue;\n    }\n</style>"],"sourceRoot":"src/views/live"}]}