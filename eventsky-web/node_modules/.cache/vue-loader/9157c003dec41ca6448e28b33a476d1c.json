{"remainingRequest":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/login/signup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/login/signup.vue","mtime":1621928123621},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bGFuZ0VuLGxhbmdaaH0gZnJvbSAnQC9hcGkvbGFuZy5qcycKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50JzsKLy8gaW1wb3J0IGFwaSBmcm9tICdAL2FwaS9hcGknCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgZGF0YSgpewogICAgICAgICAgICByZXR1cm57CiAgICAgICAgICAgICAgICBjaGVja2JveDogZmFsc2UsCiAgICAgICAgICAgICAgICBjaGVja2JveEdyb3VwOiBbXSwKICAgICAgICAgICAgICAgIGlzQ2xpY2s6IHRydWUsCiAgICAgICAgICAgICAgICB0aW1lOiAn6I635Y+W6aqM6K+B56CBJywKICAgICAgICAgICAgICAgIHBob25lOiAnJywKICAgICAgICAgICAgICAgIHNtczogJycsCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6ewogICAgICAgICAgICBjaGFuZ2VMYW5nKGxhbmcpewogICAgICAgICAgICAgICAgaWYobGFuZyA9PT0gJ3poJyl7CiAgICAgICAgICAgICAgICAgICAgbGFuZ1poKCkKICAgICAgICAgICAgICAgIH1lbHNlIGlmIChsYW5nID09PSAnZW4nKXsKICAgICAgICAgICAgICAgICAgICBsYW5nRW4oKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAKICAgICAgICAgIAogICAgICAgICAgICBnYWluQ29kZSgpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2xpY2spIHsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAoL14oMTNbMC05XXwxNFswMTQ1Njg3OV18MTVbMC0zNS05XXwxNlsyNTY3XXwxN1swLThdfDE4WzAtOV18MTlbMC0zNS05XSlcZHs4fSQvLnRlc3QodGhpcy5waG9uZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kaHR0cC5wb3N0KCIvdXNlci1zZXJ2aWNlL2F1dGgvc2VuZD90YXJnZXQ9Iit0aGlzLnBob25lKyImdHlwZT1QSE9ORV9MT0dJTiIpLnRoZW4ocmVzID0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2xpY2sgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IDYwCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZSA9IHMgKyAncycKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy0tCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWUgPSBzICsgJ3MnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA8IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZSA9ICfph43mlrDojrflj5YnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2xpY2sgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0LmZhaWwoJ+ivt+i+k+WFpeato+ehrueahOaJi+acuuWPt+eggScpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBsb2dpbigpewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlZ2lzdGVyQWNjb3VudCgpewogICAgICAgICAgICAgICBpZih0aGlzLmNoZWNrYm94R3JvdXAubGVuZ3RoID09IDEpewogICAgICAgICAgICAgICAgICAgdGhpcy4kaHR0cC5wb3N0KCIvdXNlci1zZXJ2aWNlL2FjY291bnQvbG9naW5fcD9waG9uZT0iK3RoaXMucGhvbmUrIiZhdXRoQ29kZT0iK3RoaXMuc21zKyIiKS50aGVuKHJlcyA9PnsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzLmRhdGEucnNwQ29kZSA9PSAxKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sMTAwMCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIFRvYXN0LmZhaWwoJ+ivt+WLvumAiea0u+WKqOaYn+epuuWNj+iuricpCiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgfSAKICAgIH0K"},{"version":3,"sources":["signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"signup.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"top-bg\">\n            <div class=\"lang\">\n                <span @click=\"changeLang('zh')\">中</span>\n                <span>|</span>\n                <span @click=\"changeLang('en')\">EN</span>\n            </div>\n            <img src=\"@/assets/images/logo.png\" class=\"logo\" alt=\"\">\n        </div>\n        <div class=\"content\">\n            <div class=\"card\">\n                <van-field v-model=\"phone\" class=\"phone\" placeholder=\"请输入手机号\" />\n                <van-field v-model=\"sms\"  class=\"sms\"  placeholder=\"请输入验证码\" use-button-slot>\n                    <van-button slot=\"button\" class=\"get-codebtn\" size=\"small\" @click=\"gainCode\">{{time}} </van-button>\n                </van-field>\n                <van-button class=\"register-btn\" @click=\"registerAccount\">注册</van-button>\n                <van-checkbox-group v-model=\"checkboxGroup\" direction=\"horizontal\">\n                    <van-checkbox name=\"1\" shape=\"square\">我已阅读并同意《活动星空协议》</van-checkbox>\n                </van-checkbox-group>\n            </div>\n\n            <p class=\"login\" @click=\"login()\">去登录</p>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {langEn,langZh} from '@/api/lang.js'\nimport { Toast } from 'vant';\n// import api from '@/api/api'\n    export default {\n        data(){\n            return{\n                checkbox: false,\n                checkboxGroup: [],\n                isClick: true,\n                time: '获取验证码',\n                phone: '',\n                sms: '',\n            }\n        },\n        methods:{\n            changeLang(lang){\n                if(lang === 'zh'){\n                    langZh()\n                }else if (lang === 'en'){\n                    langEn()\n                }\n            },\n            \n          \n            gainCode() {\n                if (this.isClick) {\n                    \n                    if (/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/.test(this.phone)) {\n                        this.$http.post(\"/user-service/auth/send?target=\"+this.phone+\"&type=PHONE_LOGIN\").then(res =>{\n                            console.log(res)\n                        })\n                        this.isClick = false\n                        let s = 60\n                        this.time = s + 's'\n                        let interval = setInterval(() => {\n                            s--\n                            this.time = s + 's'\n                            if (s < 0) {\n                            this.time = '重新获取'\n                            this.isClick = true\n                            clearInterval(interval)\n                            }\n                        }, 1000)\n                    } else {\n                        Toast.fail('请输入正确的手机号码')\n                    }\n                }\n            },\n            login(){\n                this.$router.push('/login')\n            },\n            registerAccount(){\n               if(this.checkboxGroup.length == 1){\n                   this.$http.post(\"/user-service/account/login_p?phone=\"+this.phone+\"&authCode=\"+this.sms+\"\").then(res =>{\n                        if(res.data.rspCode == 1){\n                            setTimeout(()=>{\n                                this.$router.push('/login')\n                            },1000)\n                        }\n                    })\n               }else{\n                    Toast.fail('请勾选活动星空协议')\n               }\n                \n            }\n        } \n    }\n</script>\n\n<style lang=\"less\" scoped>\n    .container{\n        width: 100%;\n        position: relative;\n        .top-bg{\n            width: 100%;\n            position: relative;\n            height: 226px;\n            background-image: url('../../assets/images/top-bg.png');\n            background-size: 100%;\n            .lang{\n                width: 100%;\n                position: absolute;\n                left: 0;\n                top: 0;\n                text-align: right;\n                padding: 0 10px;\n                box-sizing: border-box;\n                color: #fff;\n                font-size: 14px;\n                line-height: 30px;\n                span{\n                    margin: 0 3px;\n                }\n            }\n            .logo{\n                width: 160px;\n                position: absolute;\n                top: 50px;\n                left: 50%;\n                transform: translateX(-50%);\n            }\n        }\n        .content{\n            width: 100%;\n            padding: 0 10px;\n            box-sizing: border-box;\n            position: absolute;\n            left: 0;\n            top: 134px;\n            .card{\n                width: 100%;\n                height: 279px;\n                background: #FFFFFF;\n                box-shadow: 0px 0px 14px 0px rgba(0, 0, 0, 0.1);\n                border-radius: 20px;\n                overflow: hidden;\n                box-sizing: border-box;\n                padding: 40px 12px 30px; \n            }\n            .get-codebtn{\n                border: none;\n                color: #1F6DF0;\n                font-size: 14px;\n                height: 20px;\n                line-height: 20px;\n            }\n            .sms{\n                box-sizing: border-box;\n                border-bottom: 1px solid #ebedf0;\n                padding: 10px 0;\n            }\n            .phone{\n                padding: 10px 0;border-bottom: 1px solid #ebedf0;\n                box-sizing: border-box;\n            }\n            .register-btn{\n                width: 100%;\n                height: 44px;\n                background: linear-gradient(136deg, #5097FD 0%, #2171F9 100%);\n                box-shadow: 0px 2px 30px 0px rgba(145, 135, 254, 0.3);\n                border-radius: 44px;\n                color: #fff;\n                margin-top: 32px;\n                margin-bottom: 10px;\n            }\n            /deep/ .van-checkbox__label{\n                font-size: 12px;\n                color: #000;\n                line-height: 30px;\n            }\n            /deep/ .van-checkbox__icon .van-icon{\n                width: 14px;\n                height: 14px;\n                margin-top: 2px; font-size: 12px;\n                \n            }\n            .login{\n                width: 100%;\n                text-align: center;\n                color: #408AFC;\n                font-size: 16px;\n                margin-top: 40px;\n            }\n        }\n    }\n</style>"]}]}