{"remainingRequest":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/live/viewLive.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/live/viewLive.vue","mtime":1622798221184},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0TGl2ZVZpZXdzfSBmcm9tICdAL2FwaS9saXZlU2VydmljZS5qcycKaW1wb3J0IEFnb3JhUlRDIGZyb20gImFnb3JhLXJ0Yy1zZGstbmciCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgZGF0YSgpewogICAgICAgICAgICByZXR1cm57CiAgICAgICAgICAgICAgICAvL+a0u+WKqElECiAgICAgICAgICAgICAgICBldmVudElkOicnLAogICAgICAgICAgICAgICAgLy/lo7DnvZEg6aG555uuSUQKICAgICAgICAgICAgICAgIGFwcGlkOiAiIiwKICAgICAgICAgICAgICAgIC8v55u05pKt5oi/6Ze0CiAgICAgICAgICAgICAgICBjaGFubmVsOiAiIiwgLy93ZWJJZAogICAgICAgICAgICAgICAgLy/miL/pl7TlhoUg55So5oi3SUQKICAgICAgICAgICAgICAgIHVpZDogMCwKICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvL+WjsOe9kXRva2VuCiAgICAgICAgICAgICAgICB0b2tlbjogIiIsCiAgICAgICAgICAgICAgICAvL+inkuiJsiDvvIjkuLvmkq3lkozop4LkvJfvvIkKICAgICAgICAgICAgICAgIHJvbGU6ICJhdWRpZW5jZSIsCiAgICAgICAgICAgICAgICAvL+WjsOe9kSAg55u05pKt5a6i5oi356uvCiAgICAgICAgICAgICAgICBjbGllbnQgOm51bGwsCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8v55u05pKt54q25oCBCiAgICAgICAgICAgICAgICBpc0xpdmU6bnVsbCwKICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICByZW1vdGVVc2Vyczp7fSwKICAgICAgICAgICAgICAgIC8vIOWkmuS6uuingueci3ZpZGVvIOaVsOe7hAogICAgICAgICAgICAgICAgdmlkZW9BcnI6W10sCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6ewogICAgICAgICAgICBhc3luYyBsaXZlVmlld3MoKXsKICAgICAgICAgICAgICAgIGF3YWl0IGdldExpdmVWaWV3cyh0aGlzLmV2ZW50SWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICBpZihyZXMuZGF0YS5yc3BDb2RlPT0gMSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGlkID0gZGF0YS5hcHBJZAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWwgPSBkYXRhLndlYklkCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMaXZlID0gZGF0YS5zdGF0dXMKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saGlkID0gZGF0YS5oaXN0b3J5SWQKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2tlbiA9IGRhdGEudG9rZW4KCgogICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmlzTGl2ZSA9PSAzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnJvd2VyU3VwcG9ydCA9ICBBZ29yYVJUQy5jaGVja1N5c3RlbVJlcXVpcmVtZW50cygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYnJvd2VyU3VwcG9ydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gICBBZ29yYVJUQy5jcmVhdGVDbGllbnQoeyBtb2RlOiAibGl2ZSIsIGNvZGVjOiAidnA4IiB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NjcmVlblNoYXJlQ2xpZW50ID0gQWdvcmFSVEMuY3JlYXRlQ2xpZW50KHsgbW9kZTogImxpdmUiLCBjb2RlYzogInZwOCIgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoIiNub3RpY2VfY29udGVudCIpLmh0bWwoIuW+ruS/oeebtOaSreaaguS4jeaUr+aMgTxici8+IOivt+WkjeWItuebtOaSremTvuaOpe+8jOWIsOaJi+acuua1j+iniOWZqOmHjOinguecizxici8+IGh0dHBzOi8veW9vcGF5LmNuL2xpdmUvYXVkaWVuY2UvJHtsaXZlcm9vbS53ZWJJZH0iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAkKCIjbm90aWNlX2RpYWxvZyIpLm1vZGFsKCdzaG93Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam9pbigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdqb2luIGVycm9yJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmaW5hbGx5JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFzeW5jIGpvaW4oKSB7CiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgQWdvcmEgY2xpZW50CiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5zZXRDbGllbnRSb2xlKHRoaXMucm9sZSk7CgogICAgICAgICAgICAgICAgLy8gam9pbiB0aGUgY2hhbm5lbAogICAgICAgICAgICAgICAgdGhpcy51aWQgPSBhd2FpdCB0aGlzLmNsaWVudC5qb2luKHRoaXMuYXBwaWQsIHRoaXMuY2hhbm5lbCwgdGhpcy50b2tlbiB8fCBudWxsKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhdWRpZW5jZSB1aWQ6IiArIHRoaXMudWlkKTsKICAgICAgICAgICAgICAgIC8vIGFkZCBldmVudCBsaXN0ZW5lciB0byBwbGF5IHJlbW90ZSB0cmFja3Mgd2hlbiByZW1vdGUgdXNlciBwdWJsaXNocy4KICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uKCJ1c2VyLXB1Ymxpc2hlZCIsIHRoaXMuaGFuZGxlVXNlclB1Ymxpc2hlZCk7CiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbigidXNlci11bnB1Ymxpc2hlZCIsIHRoaXMuaGFuZGxlVXNlclVucHVibGlzaGVkKTsKICAgICAgICAgICAgICAgIC8v55u05pKt5Zy65pmv5LiL77yM6K+l5Zue6LCD5o+Q56S65pyJ5Li75pKt5Yqg5YWl5LqG6aKR6YGT77yM5bm26L+U5Zue6K+l5Li75pKt55qEIElE44CC5aaC5p6c5Zyo5Yqg5YWl5LmL5YmN77yM5bey57uP5pyJ5Li75pKt5Zyo6aKR6YGT5Lit5LqG77yM5paw5Yqg5YWl55qE55So5oi35Lmf5Lya5pS25Yiw5bey5pyJ5Li75pKt5Yqg5YWl6aKR6YGT55qE5Zue6LCDCiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbigidXNlci1qb2luZWQiLCB0aGlzLmhhbmRsZVVzZXJKb2luZWQpOwoKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uKCJ0b2tlbi1wcml2aWxlZ2UtZGlkLWV4cGlyZSIsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm9uVG9rZW5Qcml2aWxlZ2VXaWxsRXhwaXJlIik7CiAgICAgICAgICAgICAgICAgICAgLy/ov5vooYzph43mlrDnlLPor7cgVG9rZW4g5pON5L2c5ZCOCiAgICAgICAgICAgICAgICAgICAgLy9jbGllbnQucmVuZXdUb2tlbih0b2tlbik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uKCJ0b2tlbi1wcml2aWxlZ2UtZGlkLWV4cGlyZSIsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm9uVG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmUiKTsKICAgICAgICAgICAgICAgICAgICAvL+i/m+ihjOmHjeaWsOeUs+ivtyBUb2tlbiDmk43kvZzlkI4KICAgICAgICAgICAgICAgICAgICAvL2NsaWVudC5yZW5ld1Rva2VuKHRva2VuKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgLy9pbml0U3RhdHMoKTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAKCiAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgLy/mtLvliqjmmJ/nqbrnu5PmnZ/nm7Tmkq0KICAgICAgICB9LAogICAgICAgIGFzeW5jIGNyZWF0ZWQoKXsKICAgICAgICAgICAgdGhpcy5ldmVudElkID0gdGhpcy4kcm91dGUucGFyYW1zLnBhdGhNYXRjaAogICAgICAgICAgICB0aGlzLmxpdmVWaWV3cygpCiAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICBoYW5kbGVVc2VySm9pbmVkKHVzZXIpIHsKICAgICAgICAgICAgY29uc3QgaWQgPSB1c2VyLnVpZDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJoYW5kbGVVc2VySm9pbmVkOiIgKyBpZCk7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVVc2VyUHVibGlzaGVkKHVzZXIsIG1lZGlhVHlwZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiaGFuZGxlVXNlclB1Ymxpc2hlZCIpOwogICAgICAgICAgICBjb25zdCBpZCA9IHVzZXIudWlkOwogICAgICAgICAgICB0aGlzLnJlbW90ZVVzZXJzW2lkXSA9IHVzZXI7CiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKHVzZXIsIG1lZGlhVHlwZSk7CiAgICAgICAgICAgIC8vICQoIiNjb3Zlci1kaXYiKS5oaWRlKCk7CiAgICAgICAgICAgIC8vY29udHJvbHM9ImNvbnRyb2xzIgogICAgICAgICAgICAvLyQoIiNsaXZlLXN0YXR1cyIpLmh0bWwoIkxpdmluZy4uLiIpOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlVXNlclVucHVibGlzaGVkKHVzZXIpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coImhhbmRsZVVzZXJVbnB1Ymxpc2hlZCIpOwogICAgICAgICAgICBjb25zdCBpZCA9IHVzZXIudWlkOwogICAgICAgICAgICBkZWxldGUgdGhpcy5yZW1vdGVVc2Vyc1tpZF07CiAgICAgICAgICAgIC8vICQoYCNwbGF5ZXItd3JhcHBlci0ke2lkfWApLnJlbW92ZSgpOwogICAgICAgICAgICAvLyAkKCIjY292ZXItZGl2Iikuc2hvdygpOwogICAgICAgICAgICAvLyQoIiNsaXZlLXN0YXR1cyIpLmh0bWwoIk5vIExpdmUiKTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIHN1YnNjcmliZSh1c2VyLCBtZWRpYVR5cGUpIHsKICAgICAgICAgICAgY29uc3QgdWlkID0gdXNlci51aWQ7CiAgICAgICAgICAgIC8vIHN1YnNjcmliZSB0byBhIHJlbW90ZSB1c2VyCiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpZW50LnN1YnNjcmliZSh1c2VyLCBtZWRpYVR5cGUpOwogICAgICAgICAgICBjb25zb2xlLmxvZygic3Vic2NyaWJlIHN1Y2Nlc3MiKTsKICAgICAgICAgICAgaWYgKG1lZGlhVHlwZSA9PT0gJ3ZpZGVvJykgewogICAgICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy4kKGAKICAgICAgICAgICAgICAgIDxkaXYgaWQ9InBsYXllci13cmFwcGVyLSR7dWlkfSI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0icGxheWVyLSR7dWlkfSIgY2xhc3M9InBsYXllciI+PC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4gIGApOwogICAgICAgICAgICAgICAgdGhpcy4kKCIjcmVtb3RlLXBsYXllcmxpc3QiKS5hcHBlbmQocGxheWVyKTsKICAgICAgICAgICAgICAgIHVzZXIudmlkZW9UcmFjay5wbGF5KGBwbGF5ZXItJHt1aWR9YCk7CiAgICAgICAgICAgICAgICAvLyAkKCIuYWdvcmFfdmlkZW9fcGxheWVyIikuYXR0cigiY29udHJvbHMiLCB0cnVlKTsKICAgICAgICAgICAgICAgIC8vICQoIi5wbGF5ZXIiKS5zaG93KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG1lZGlhVHlwZSA9PT0gJ2F1ZGlvJykgewogICAgICAgICAgICAgICAgdXNlci5hdWRpb1RyYWNrLnBsYXkoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbGVhdmUoKSB7CiAgICAgICAgICAgIC8vIHJlbW92ZSByZW1vdGUgdXNlcnMgYW5kIHBsYXllciB2aWV3cwogICAgICAgICAgICB0aGlzLnJlbW90ZVVzZXJzID0ge307CiAgICAgICAgICAgIHRoaXMuJCgiI3JlbW90ZS1wbGF5ZXJsaXN0IikuaHRtbCgiIik7CiAgICAgICAgICAgIC8vIGxlYXZlIHRoZSBjaGFubmVsCiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpZW50LmxlYXZlKCk7CiAgICAgICAgICAgIC8vJCgiI2xvY2FsLXBsYXllci1uYW1lIikudGV4dCgiIik7CiAgICAgICAgICAgIC8vJCgiI2J0bi1sb29rIikuYXR0cigiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIC8vJCgiI2J0bi1sZWF2ZSIpLmF0dHIoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICAgICAgICAgIC8vZGVzdHJ1Y3RTdGF0cygpOwogICAgICAgICAgICBjb25zb2xlLmxvZygiY2xpZW50IGxlYXZlcyBjaGFubmVsIHN1Y2Nlc3MiKTsKICAgICAgICB9CiAgICB9Cg=="},{"version":3,"sources":["viewLive.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"viewLive.vue","sourceRoot":"src/views/live","sourcesContent":["<template>\n    <div  class=\"live\">\n        <div id=\"remote-playerlist\">\n        </div>\n    </div>\n</template>\n<script>\nimport {getLiveViews} from '@/api/liveService.js'\nimport AgoraRTC from \"agora-rtc-sdk-ng\"\n    export default {\n        data(){\n            return{\n                //活动ID\n                eventId:'',\n                //声网 项目ID\n                appid: \"\",\n                //直播房间\n                channel: \"\", //webId\n                //房间内 用户ID\n                uid: 0,\n               \n                //声网token\n                token: \"\",\n                //角色 （主播和观众）\n                role: \"audience\",\n                //声网  直播客户端\n                client :null,\n                \n                //直播状态\n                isLive:null,\n                //\n                remoteUsers:{},\n                // 多人观看video 数组\n                videoArr:[],\n            }\n        },\n        methods:{\n            async liveViews(){\n                await getLiveViews(this.eventId).then(res => {\n                    if(res.data.rspCode== 1){\n                        let data = res.data.data\n                        console.log(data)\n                        this.appid = data.appId\n                        this.channel = data.webId\n                        this.isLive = data.status\n                        this.lhid = data.historyId\n                        this.token = data.token\n\n\n                        if(this.isLive == 3) {\n                            var browerSupport =  AgoraRTC.checkSystemRequirements();\n                            if(browerSupport) {\n                                this.client =   AgoraRTC.createClient({ mode: \"live\", codec: \"vp8\" });\n                                //screenShareClient = AgoraRTC.createClient({ mode: \"live\", codec: \"vp8\" });\n                            } else {\n                                // $(\"#notice_content\").html(\"微信直播暂不支持<br/> 请复制直播链接，到手机浏览器里观看<br/> https://yoopay.cn/live/audience/${liveroom.webId}\");\n                                // $(\"#notice_dialog\").modal('show');\n                            // return;\n                            }\n                            try {\n                                this.join();\n                            } catch (error) {\n                                console.error('join error');\n                                console.error(error);\n                            } finally {\n                                console.log('finally')\n                            }\n                        }\n                    }\n                    \n                })\n            },\n            async join() {\n                // create Agora client\n                this.client.setClientRole(this.role);\n\n                // join the channel\n                this.uid = await this.client.join(this.appid, this.channel, this.token || null);\n                console.log(\"audience uid:\" + this.uid);\n                // add event listener to play remote tracks when remote user publishs.\n                this.client.on(\"user-published\", this.handleUserPublished);\n                this.client.on(\"user-unpublished\", this.handleUserUnpublished);\n                //直播场景下，该回调提示有主播加入了频道，并返回该主播的 ID。如果在加入之前，已经有主播在频道中了，新加入的用户也会收到已有主播加入频道的回调\n                this.client.on(\"user-joined\", this.handleUserJoined);\n\n                this.client.on(\"token-privilege-did-expire\", function(){\n                    console.log(\"onTokenPrivilegeWillExpire\");\n                    //进行重新申请 Token 操作后\n                    //client.renewToken(token);\n                });\n                this.client.on(\"token-privilege-did-expire\", function(){\n                    console.log(\"onTokenPrivilegeDidExpire\");\n                    //进行重新申请 Token 操作后\n                    //client.renewToken(token);\n                });\n                //initStats();\n            },\n\n                            \n           \n\n      \n            \n            //活动星空结束直播\n        },\n        async created(){\n            this.eventId = this.$route.params.pathMatch\n            this.liveViews()\n          \n            \n        },\n        handleUserJoined(user) {\n            const id = user.uid;\n                console.log(\"handleUserJoined:\" + id);\n        },\n        handleUserPublished(user, mediaType) {\n            console.log(\"handleUserPublished\");\n            const id = user.uid;\n            this.remoteUsers[id] = user;\n            this.subscribe(user, mediaType);\n            // $(\"#cover-div\").hide();\n            //controls=\"controls\"\n            //$(\"#live-status\").html(\"Living...\");\n        },\n        handleUserUnpublished(user) {\n            console.log(\"handleUserUnpublished\");\n            const id = user.uid;\n            delete this.remoteUsers[id];\n            // $(`#player-wrapper-${id}`).remove();\n            // $(\"#cover-div\").show();\n            //$(\"#live-status\").html(\"No Live\");\n        },\n        async subscribe(user, mediaType) {\n            const uid = user.uid;\n            // subscribe to a remote user\n            await this.client.subscribe(user, mediaType);\n            console.log(\"subscribe success\");\n            if (mediaType === 'video') {\n                const player = this.$(`\n                <div id=\"player-wrapper-${uid}\">\n                    <div id=\"player-${uid}\" class=\"player\"></div>\n                </div>  `);\n                this.$(\"#remote-playerlist\").append(player);\n                user.videoTrack.play(`player-${uid}`);\n                // $(\".agora_video_player\").attr(\"controls\", true);\n                // $(\".player\").show();\n            }\n            if (mediaType === 'audio') {\n                user.audioTrack.play();\n            }\n        },\n        async leave() {\n            // remove remote users and player views\n            this.remoteUsers = {};\n            this.$(\"#remote-playerlist\").html(\"\");\n            // leave the channel\n            await this.client.leave();\n            //$(\"#local-player-name\").text(\"\");\n            //$(\"#btn-look\").attr(\"disabled\", false);\n            //$(\"#btn-leave\").attr(\"disabled\", true);\n            //destructStats();\n            console.log(\"client leaves channel success\");\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    .live{\n        width: 100%;\n        height: 227px;\n    }\n</style>"]}]}