{"remainingRequest":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/client/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/src/views/client/index.vue","mtime":1622193050225},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huodongxingkong/Desktop/eventsky/eventsky-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvSGVhZCcKICAgIGV4cG9ydCBkZWZhdWx0IHsKICAgICAgICBjb21wb25lbnRzOnsKICAgICAgICAgICAgSGVhZCwKICAgICAgICB9LAogICAgICAgIGRhdGEoKXsKICAgICAgICAgICAgcmV0dXJuewogICAgICAgICAgICAgICAgaGVhZGVyVXJsOidodHRwczovL2ltZzAxLnl6Y2RuLmNuL3ZhbnQvY2F0LmpwZWcnLAogICAgICAgICAgICAgICAgLy/lj4LkuI7nmoTnm7Tmkq3mlbDnu4QKICAgICAgICAgICAgICAgIGxpdmVBcnI6W10sCiAgICAgICAgICAgICAgICB0b3RhbExpdmVzOicnLAogICAgICAgICAgICAgICAgcGFnZVNpemU6MTAwLAogICAgICAgICAgICAgICAgLy/nm7Tmkq3liJfooahJRAogICAgICAgICAgICAgICAgZ29vZHNJZDpbXSwKICAgICAgICAgICAgICAgIC8vIOa0u+WKqOS/oeaBryDliJfooagKICAgICAgICAgICAgICAgIGV2ZW50c0xpc3RzOnt9LAogICAgICAgICAgICAgICAgc2hvd0NvZGU6ZmFsc2UsCiAgICAgICAgICAgICAgICBsaW5rOidodHRwOi8vZXZlbnRza3kuY24vJywKICAgICAgICAgICAgICAgIGNvZGVVcmw6JycsCiAgICAgICAgICAgICAgICBsb2dvVXJsOiByZXF1aXJlKCcuLi8uLi9hc3NldHMvaW1hZ2VzL2xvZ28tYmx1ZS5wbmcnKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAKICAgICAgICBtZXRob2RzOnsKICAgICAgICAgICAgc2hvd0NvZGVQb3B1cCh1cmwpewogICAgICAgICAgICAgICAgdGhpcy5zaG93Q29kZSA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMuY29kZVVybCA9IHVybAogICAgICAgICAgICB9LAogICAgICAgICAgICAgYXN5bmMgZ2V0Y2xpZW50SW5mbygpewogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4kaHR0cC5nZXQoIi9vcmRlci1zZXJ2aWNlL29yZGVyL21pbmUiKS50aGVuKG9yZGVyUmVzID0+ewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVyRGF0YSA9ICBvcmRlclJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICB0aGlzLmxpdmVBcnIgPSBvcmRlckRhdGEucmVzdWx0cwogICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxMaXZlcyA9IG9yZGVyRGF0YS50b3RhbFJvd3MKICAgICAgICAgICAgICAgICAgICB0aGlzLmxpdmVBcnIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nb29kc0lkLnB1c2goaXRlbS5nb29kc0lkKSAKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGl2ZUFycikKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRodHRwLmdldCgiL2V2ZW50LXNlcnZpY2UvZXZlbnQvbGlzdC8iLHtwYXJhbXM6e2V2ZW50SWQ6dGhpcy5nb29kc0lkLnRvU3RyaW5nKCl9fSkudGhlbihldmVudFJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9ICBldmVudFJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IHt9CiAgICAgICAgICAgICAgICAgICAgZXZlbnREYXRhLmZvckVhY2goKGl0ZW0pID0+ewogICAgICAgICAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coaXRlbSkKICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFtpdGVtLmlkXSA9IGl0ZW0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzTGlzdHMgPSBsaXN0CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgY3JlYXRlZCgpewogICAgICAgICAgICB0aGlzLmdldGNsaWVudEluZm8oKQogICAgICAgIH0sCn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/client","sourcesContent":["<template>\n    <div class=\"container\">\n        <Head :logoUrl=\"logoUrl\" class=\"head\"></Head>\n        <div class=\"header\">\n            <van-image width=\"100%\" height=\"100%\" class=\"blur-img\"   :src=\"headerUrl\"  />\n            <div class=\"head-img\">\n                <van-image  width=\"100%\"  height=\"100%\" cover  :src=\"headerUrl\" />\n            </div>\n        </div>\n        <section class=\"sec-live\">\n            <h4 class=\"sec-tit\">我参与的活动直播（{{totalLives}}）</h4>\n            <ul class=\"live-list\">\n                <li class=\"live\" v-for=\"(item,index) in liveArr\" :key=\"index\" >\n                    <div class=\"top\" v-if=\"eventsLists[item.goodsId]\">\n                        \n                        <p class=\"name\">{{eventsLists[item.goodsId][\"title\"]}}</p>\n                        <p class=\"date\">\n                            <img src=\"../../assets/images/eventicon.png\" alt=\"\">\n                            <span >时间：{{eventsLists[item.goodsId][\"beginDate\"]}}</span>\n                        </p>\n                        <div class=\"bottom\">\n                            <div class=\"left\">\n                                <p class=\"sponsor\">\n                                    <img src=\"../../assets/images/eventicon.png\" alt=\"\">\n                                    <span>主办：{{eventsLists[item.goodsId][\"company\"]}}</span>\n                                </p>\n                                <p class=\"link\">\n                                    <img src=\"../../assets/images/eventicon.png\" alt=\"\">\n                                    <span>活动链接： <a :href=\"link+eventsLists[item.goodsId]['webId']\">http://eventsky.cn/{{eventsLists[item.goodsId][\"webId\"]}}</a> </span>\n                                </p>\n                            </div>\n                            <div class=\"right\" @click=\"showCodePopup(eventsLists[item.goodsId]['barcodeUrl'])\">\n                                <img :src=\"eventsLists[item.goodsId]['barcodeUrl']\" alt=\"\">\n                            </div>\n                        </div>\n                    </div>\n                    \n                </li>\n            </ul>\n        </section>\n        <van-popup v-model=\"showCode\" closeable position=\"bottom\" :style=\"{ height: '50%' }\">\n            <van-image width=\"70%\" height=\"70%\" style=\"margin:15% auto 0;display:block\" :src=\"codeUrl\"/>\n        </van-popup>\n    </div>\n</template>\n\n<script>\nimport Head from '../../components/Head'\n    export default {\n        components:{\n            Head,\n        },\n        data(){\n            return{\n                headerUrl:'https://img01.yzcdn.cn/vant/cat.jpeg',\n                //参与的直播数组\n                liveArr:[],\n                totalLives:'',\n                pageSize:100,\n                //直播列表ID\n                goodsId:[],\n                // 活动信息 列表\n                eventsLists:{},\n                showCode:false,\n                link:'http://eventsky.cn/',\n                codeUrl:'',\n                logoUrl: require('../../assets/images/logo-blue.png')\n            }\n        },\n        \n        methods:{\n            showCodePopup(url){\n                this.showCode = true\n                this.codeUrl = url\n            },\n             async getclientInfo(){\n                await this.$http.get(\"/order-service/order/mine\").then(orderRes =>{\n                    const orderData =  orderRes.data.data\n                    this.liveArr = orderData.results\n                    this.totalLives = orderData.totalRows\n                    this.liveArr.forEach(item => {\n                        this.goodsId.push(item.goodsId) \n                    })\n                    // console.log(this.liveArr)\n                })\n                await this.$http.get(\"/event-service/event/list/\",{params:{eventId:this.goodsId.toString()}}).then(eventRes => {\n                    // console.log(res)\n                    const eventData =  eventRes.data.data\n                    let list = {}\n                    eventData.forEach((item) =>{\n                        //  console.log(item)\n                        list[item.id] = item\n                    })\n                    this.eventsLists = list\n                })\n            },\n        },\n        created(){\n            this.getclientInfo()\n        },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.container{\n    padding-top: 38px;\n    .header{\n        width: 100%;\n        height: 150px;\n        position: relative;\n        overflow: hidden;\n        .blur-img{\n            filter: blur(20px); \n            position: absolute;\n            left: 0;\n            top: 0;\n        }\n        .head-img{\n            width: 92px;\n            height: 92px;\n            overflow: hidden;\n            border-radius: 50%;\n            position: absolute;\n            left: 0;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            margin: auto;\n            border: 4px solid rgba(255, 255, 255, .1);\n        }\n    }\n    .sec-live{\n        .sec-tit{\n            padding:0 10px;\n            background: #FFFFFF;\n            box-shadow: 0px 1px 0px 0px #DDDDDD;\n            font-size: 14px;\n            color: #333;\n            line-height: 40px;\n        }\n    }\n    .live-list{\n        background: #F2F3F7;\n        padding: 10px 14px 20px;\n        .live{\n            box-shadow: 0px 2px 4px 0px #A0A0A0;\n            overflow: hidden;\n            border-radius: 8px;\n            margin-bottom: 20px;\n            .top{\n                padding: 13px 13px 10px;\n                background: #FFFFFF;\n            }\n            .name{\n                font-size: 16px;\n                color: #333;\n                margin-bottom: 10px;\n            }\n            .date{\n                display: flex;\n                align-items: center;\n                margin-bottom: 10px;\n                span{\n                    font-size: 12px;\n                    color: #4A4A4A;\n                    display: block;\n                    line-height: 18px;\n                    margin-left: 5px;\n                }\n                img{\n                    height: 18px;\n                }\n            }\n            .bottom{\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n                .left{\n                    width: 90%;\n                    .sponsor{\n                        display: flex;\n                        align-items: center;\n                        margin-bottom: 10px;\n                        span{\n                            font-size: 12px;\n                            color: #4A4A4A;\n                            display: block;\n                            line-height: 18px;\n                            margin-left: 5px;\n                        }\n                        img{\n                            height: 18px;\n                        }\n                    }\n                    .link{\n                        display: flex;\n                        align-items: center;\n                        margin-bottom: 10px;\n                        span{\n                            font-size: 12px;\n                            color: #4A4A4A;\n                            display: block;\n                            line-height: 18px;\n                            margin-left: 5px;\n                            a{\n                                font-size: 12px;\n                                color: #1E67EF;\n                            }\n                        }\n                        img{\n                            height: 18px;\n                        }\n                    }\n                }\n                .right{\n                    width: 32px;\n                    height: 32px;\n                    img{\n                        width: 100%;\n                        height: 100%;\n                    }\n                }\n            }\n        }\n    }\n}\n</style>"]}]}